2024-10-17 14:18:55 INFO  Version:21 - HV000001: Hibernate Validator 8.0.1.Final
2024-10-17 14:18:55 INFO  CurrencyExchangeServiceApplication:50 - Starting CurrencyExchangeServiceApplication using Java 17.0.8.1 with PID 31256 (C:\New folder\ngoProjects\currency-exchange-service\target\classes started by tapanrawat in C:\New folder\ngoProjects\currency-exchange-service)
2024-10-17 14:18:55 INFO  CurrencyExchangeServiceApplication:654 - No active profile set, falling back to 1 default profile: "default"
2024-10-17 14:18:55 INFO  DevToolsPropertyDefaultsPostProcessor:252 - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-10-17 14:18:55 INFO  DevToolsPropertyDefaultsPostProcessor:252 - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-10-17 14:18:57 INFO  TomcatWebServer:109 - Tomcat initialized with port 8082 (http)
2024-10-17 14:18:57 INFO  Http11NioProtocol:173 - Initializing ProtocolHandler ["http-nio-8082"]
2024-10-17 14:18:57 INFO  StandardService:173 - Starting service [Tomcat]
2024-10-17 14:18:57 INFO  StandardEngine:173 - Starting Servlet engine: [Apache Tomcat/10.1.30]
2024-10-17 14:18:57 INFO  [/]:173 - Initializing Spring embedded WebApplicationContext
2024-10-17 14:18:57 INFO  ServletWebServerApplicationContext:296 - Root WebApplicationContext: initialization completed in 2510 ms
2024-10-17 14:18:58 INFO  DefaultSecurityFilterChain:54 - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@78c54998, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@36a63c5e, org.springframework.security.web.context.SecurityContextHolderFilter@3a1b9712, org.springframework.security.web.header.HeaderWriterFilter@4bf0a6e8, org.springframework.security.web.authentication.logout.LogoutFilter@e24bb11, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@42518f99, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@55fa53a4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@219fedcb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@616da45f, org.springframework.security.web.access.ExceptionTranslationFilter@2ba578c4, org.springframework.security.web.access.intercept.AuthorizationFilter@56af2fd8]
2024-10-17 14:18:59 INFO  OptionalLiveReloadServer:59 - LiveReload server is running on port 35729
2024-10-17 14:18:59 INFO  Http11NioProtocol:173 - Starting ProtocolHandler ["http-nio-8082"]
2024-10-17 14:18:59 INFO  TomcatWebServer:241 - Tomcat started on port 8082 (http) with context path ''
2024-10-17 14:18:59 INFO  CurrencyExchangeServiceApplication:56 - Started CurrencyExchangeServiceApplication in 4.668 seconds (process running for 7.276)
2024-10-17 14:19:14 INFO  [/]:173 - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-17 14:19:14 INFO  DispatcherServlet:532 - Initializing Servlet 'dispatcherServlet'
2024-10-17 14:19:14 INFO  DispatcherServlet:554 - Completed initialization in 2 ms
2024-10-17 14:19:15 ERROR GlobalExceptionHandler:41 - handleValidationExceptions occurred: {userType=User type must be one of EMPLOYEE, AFFILIATE, or CUSTOMER}
2024-10-17 14:19:15 WARN  ExceptionHandlerExceptionResolver:247 - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<?> com.example.currency.controller.CurrencyExchangeController.currencyExchange(com.example.currency.request.BillRequest): [Field error in object 'billRequest' on field 'userType': rejected value [employee]; codes [Pattern.billRequest.userType,Pattern.userType,Pattern.java.lang.String,Pattern]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [billRequest.userType,userType]; arguments []; default message [userType],[Ljakarta.validation.constraints.Pattern$Flag;@576cef51,EMPLOYEE|AFFILIATE|CUSTOMER]; default message [User type must be one of EMPLOYEE, AFFILIATE, or CUSTOMER]] ]
2024-10-17 14:20:06 INFO  LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener:211 - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2024-10-17 14:20:06 INFO  Http11NioProtocol:173 - Stopping ProtocolHandler ["http-nio-8082"]
2024-10-17 14:20:06 INFO  CurrencyExchangeServiceApplication:50 - Starting CurrencyExchangeServiceApplication using Java 17.0.8.1 with PID 31256 (C:\New folder\ngoProjects\currency-exchange-service\target\classes started by tapanrawat in C:\New folder\ngoProjects\currency-exchange-service)
2024-10-17 14:20:06 INFO  CurrencyExchangeServiceApplication:654 - No active profile set, falling back to 1 default profile: "default"
2024-10-17 14:20:06 INFO  TomcatWebServer:109 - Tomcat initialized with port 8082 (http)
2024-10-17 14:20:06 INFO  Http11NioProtocol:173 - Initializing ProtocolHandler ["http-nio-8082"]
2024-10-17 14:20:06 INFO  StandardService:173 - Starting service [Tomcat]
2024-10-17 14:20:06 INFO  StandardEngine:173 - Starting Servlet engine: [Apache Tomcat/10.1.30]
2024-10-17 14:20:06 INFO  [/]:173 - Initializing Spring embedded WebApplicationContext
2024-10-17 14:20:06 INFO  ServletWebServerApplicationContext:296 - Root WebApplicationContext: initialization completed in 297 ms
2024-10-17 14:20:06 INFO  DefaultSecurityFilterChain:54 - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5326243a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@36b78c3f, org.springframework.security.web.context.SecurityContextHolderFilter@32784c5, org.springframework.security.web.header.HeaderWriterFilter@2a0f9af8, org.springframework.security.web.authentication.logout.LogoutFilter@592cd725, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6c0c4361, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6d1f542b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@309cf23f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@548ca3db, org.springframework.security.web.access.ExceptionTranslationFilter@7a74e542, org.springframework.security.web.access.intercept.AuthorizationFilter@195f70d2]
2024-10-17 14:20:06 INFO  OptionalLiveReloadServer:59 - LiveReload server is running on port 35729
2024-10-17 14:20:06 INFO  Http11NioProtocol:173 - Starting ProtocolHandler ["http-nio-8082"]
2024-10-17 14:20:06 INFO  TomcatWebServer:241 - Tomcat started on port 8082 (http) with context path ''
2024-10-17 14:20:06 INFO  CurrencyExchangeServiceApplication:56 - Started CurrencyExchangeServiceApplication in 0.514 seconds (process running for 74.979)
2024-10-17 14:20:06 INFO  ConditionEvaluationDeltaLoggingListener:63 - Condition evaluation unchanged
2024-10-17 14:20:18 INFO  LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener:211 - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2024-10-17 14:20:18 INFO  Http11NioProtocol:173 - Stopping ProtocolHandler ["http-nio-8082"]
2024-10-17 14:20:18 INFO  CurrencyExchangeServiceApplication:50 - Starting CurrencyExchangeServiceApplication using Java 17.0.8.1 with PID 31256 (C:\New folder\ngoProjects\currency-exchange-service\target\classes started by tapanrawat in C:\New folder\ngoProjects\currency-exchange-service)
2024-10-17 14:20:18 INFO  CurrencyExchangeServiceApplication:654 - No active profile set, falling back to 1 default profile: "default"
2024-10-17 14:20:18 INFO  TomcatWebServer:109 - Tomcat initialized with port 8082 (http)
2024-10-17 14:20:18 INFO  Http11NioProtocol:173 - Initializing ProtocolHandler ["http-nio-8082"]
2024-10-17 14:20:18 INFO  StandardService:173 - Starting service [Tomcat]
2024-10-17 14:20:18 INFO  StandardEngine:173 - Starting Servlet engine: [Apache Tomcat/10.1.30]
2024-10-17 14:20:18 INFO  [/]:173 - Initializing Spring embedded WebApplicationContext
2024-10-17 14:20:18 INFO  ServletWebServerApplicationContext:296 - Root WebApplicationContext: initialization completed in 272 ms
2024-10-17 14:20:19 INFO  DefaultSecurityFilterChain:54 - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@ef26744, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@485da6bd, org.springframework.security.web.context.SecurityContextHolderFilter@3cf825d4, org.springframework.security.web.header.HeaderWriterFilter@7e57712d, org.springframework.security.web.authentication.logout.LogoutFilter@62c775da, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@57c2a1c3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@708bc864, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5a77f91c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3ee46eb7, org.springframework.security.web.access.ExceptionTranslationFilter@591e6900, org.springframework.security.web.access.intercept.AuthorizationFilter@29fbf68f]
2024-10-17 14:20:19 INFO  OptionalLiveReloadServer:59 - LiveReload server is running on port 35729
2024-10-17 14:20:19 INFO  Http11NioProtocol:173 - Starting ProtocolHandler ["http-nio-8082"]
2024-10-17 14:20:19 INFO  TomcatWebServer:241 - Tomcat started on port 8082 (http) with context path ''
2024-10-17 14:20:19 INFO  CurrencyExchangeServiceApplication:56 - Started CurrencyExchangeServiceApplication in 0.466 seconds (process running for 87.225)
2024-10-17 14:20:19 INFO  ConditionEvaluationDeltaLoggingListener:63 - Condition evaluation unchanged
2024-10-17 14:20:25 INFO  [/]:173 - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-10-17 14:20:25 INFO  DispatcherServlet:532 - Initializing Servlet 'dispatcherServlet'
2024-10-17 14:20:25 INFO  DispatcherServlet:554 - Completed initialization in 2 ms
2024-10-17 14:20:26 INFO  CurrencyExchangeController:42 - Initiate calculateBill request for user Type: employee
2024-10-17 14:20:26 INFO  DiscountService:36 - CalculateDiscount Method: userType: employee has got discount of 35.0 on amount: 100
2024-10-17 14:20:26 INFO  CurrencyExchangeService:35 - Initiate get exchange rate request url: https://open.er-api.com/v6/latest/USD?apikey=your-api-key for target currency: INR
2024-10-17 14:20:27 INFO  CurrencyExchangeController:51 - Completed calculateBill method for user Type: employee
2024-10-17 14:20:32 ERROR GlobalExceptionHandler:41 - handleValidationExceptions occurred: {userType=User type must be one of employee, affiliate or customer}
2024-10-17 14:20:32 WARN  ExceptionHandlerExceptionResolver:247 - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<?> com.example.currency.controller.CurrencyExchangeController.currencyExchange(com.example.currency.request.BillRequest): [Field error in object 'billRequest' on field 'userType': rejected value [eemployee]; codes [Pattern.billRequest.userType,Pattern.userType,Pattern.java.lang.String,Pattern]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [billRequest.userType,userType]; arguments []; default message [userType],[Ljakarta.validation.constraints.Pattern$Flag;@576cef51,employee|affiliate|customer]; default message [User type must be one of employee, affiliate or customer]] ]
2024-10-17 14:20:40 ERROR GlobalExceptionHandler:41 - handleValidationExceptions occurred: {originalCurrency=Original currency must be a valid 3-letter ISO code}
2024-10-17 14:20:40 WARN  ExceptionHandlerExceptionResolver:247 - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<?> com.example.currency.controller.CurrencyExchangeController.currencyExchange(com.example.currency.request.BillRequest): [Field error in object 'billRequest' on field 'originalCurrency': rejected value [USDR]; codes [Size.billRequest.originalCurrency,Size.originalCurrency,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [billRequest.originalCurrency,originalCurrency]; arguments []; default message [originalCurrency],3,3]; default message [Original currency must be a valid 3-letter ISO code]] ]
2024-10-17 14:20:48 ERROR GlobalExceptionHandler:41 - handleValidationExceptions occurred: {targetCurrency=Target currency must be a valid 3-letter ISO code}
2024-10-17 14:20:48 WARN  ExceptionHandlerExceptionResolver:247 - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<?> com.example.currency.controller.CurrencyExchangeController.currencyExchange(com.example.currency.request.BillRequest): [Field error in object 'billRequest' on field 'targetCurrency': rejected value [INRR]; codes [Size.billRequest.targetCurrency,Size.targetCurrency,Size.java.lang.String,Size]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [billRequest.targetCurrency,targetCurrency]; arguments []; default message [targetCurrency],3,3]; default message [Target currency must be a valid 3-letter ISO code]] ]
2024-10-17 14:20:53 ERROR GlobalExceptionHandler:41 - handleValidationExceptions occurred: {userType=User type is required}
2024-10-17 14:20:53 WARN  ExceptionHandlerExceptionResolver:247 - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<?> com.example.currency.controller.CurrencyExchangeController.currencyExchange(com.example.currency.request.BillRequest): [Field error in object 'billRequest' on field 'userType': rejected value [null]; codes [NotNull.billRequest.userType,NotNull.userType,NotNull.java.lang.String,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [billRequest.userType,userType]; arguments []; default message [userType]]; default message [User type is required]] ]
